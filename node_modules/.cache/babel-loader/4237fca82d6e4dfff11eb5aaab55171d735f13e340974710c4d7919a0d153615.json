{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/deiby/Desktop/cloneWebCursos/paginacursos/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/deiby/Desktop/cloneWebCursos/paginacursos/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/deiby/Desktop/cloneWebCursos/paginacursos/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";var AuthContext=/*#__PURE__*/React.createContext();function AuthProvider(_ref){var children=_ref.children;var _React$useState=React.useState(\"false\"),_React$useState2=_slicedToArray(_React$useState,2),get=_React$useState2[0],setGet=_React$useState2[1];var url='https://api.castelancarpinteyro.com/message';React.useEffect(function(){function leer(){return _leer.apply(this,arguments);}function _leer(){_leer=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(url,{method:'GET'});case 2:response=_context.sent;_context.next=5;return response.json();case 5:data=_context.sent;_context.t0=setGet;_context.next=9;return data;case 9:_context.t1=_context.sent;return _context.abrupt(\"return\",(0,_context.t0)(_context.t1));case 11:case\"end\":return _context.stop();}},_callee);}));return _leer.apply(this,arguments);}leer();},[]);var navigate=useNavigate();var _React$useState3=React.useState(null),_React$useState4=_slicedToArray(_React$useState3,2),user=_React$useState4[0],setUser=_React$useState4[1];function login(_ref2){var username=_ref2.username,password=_ref2.password;var l=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;console.log(username,password,l);if(l===1){navigate('/');localStorage.getItem(\"correo\",username);setUser({username:username});}//console.log(get)\nif(get!=='false'){for(var i=0;i<get.body.length;i++){if(get.body[i].email===username&&get.body[i].password===password){setUser({username:username});localStorage.getItem(\"correo\",username);navigate('/');}}}}var logout=function logout(){localStorage.clear();setUser(null);navigate('/');};var auth={user:user,login:login,logout:logout};return/*#__PURE__*/_jsx(AuthContext.Provider,{value:auth,children:children});}function useAuth(){var auth=React.useContext(AuthContext);return auth;}export{AuthProvider,useAuth};","map":{"version":3,"names":["React","useNavigate","AuthContext","createContext","AuthProvider","children","useState","get","setGet","url","useEffect","leer","fetch","method","response","json","data","navigate","user","setUser","login","username","password","l","console","log","localStorage","getItem","i","body","length","email","logout","clear","auth","useAuth","useContext"],"sources":["C:/Users/deiby/Desktop/cloneWebCursos/paginacursos/src/Login/peticion.js"],"sourcesContent":["import React from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\n\r\nconst AuthContext=React.createContext();\r\n\r\nfunction AuthProvider({children}){\r\n    const [get, setGet]= React.useState(\"false\");\r\n    let url='https://api.castelancarpinteyro.com/message'\r\n    React.useEffect(()=> {\r\n        async function leer() {\r\n        const response = await fetch(url, {\r\n          method: 'GET',\r\n        });\r\n        const data = await response.json();\r\n      \r\n        return setGet(await data)\r\n      }\r\n      leer()\r\n    },[])\r\n\r\n \r\n  \r\n    const navigate=useNavigate();\r\n    const [user, setUser]= React.useState(null)\r\n\r\n    function login({username,password},l=0){ \r\n        console.log(username,password,l)\r\n        if(l===1){\r\n            navigate('/')\r\n            localStorage.getItem(\"correo\",username)\r\n            setUser({username});\r\n        }\r\n        //console.log(get)\r\n        if(get !== 'false' ){\r\n            for(let i=0; i<get.body.length; i++){\r\n                if(get.body[i].email === username && get.body[i].password === password){\r\n                setUser({username});\r\n                localStorage.getItem(\"correo\",username)\r\n                navigate('/')\r\n            } \r\n            }\r\n           \r\n    }\r\n\r\n       \r\n    }\r\n    const logout=() =>{\r\n        localStorage.clear();\r\n        setUser(null);\r\n        navigate('/')\r\n    }\r\n    \r\n    const auth={user,login,logout}\r\n    return (\r\n        <AuthContext.Provider value={auth}>\r\n            {children}\r\n        </AuthContext.Provider>\r\n    )\r\n}\r\n\r\n\r\n\r\nfunction useAuth(){\r\n   const auth =  React.useContext(AuthContext);\r\n   return auth;\r\n}\r\n\r\n\r\nexport {\r\n    AuthProvider,\r\n    useAuth\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"mappings":"waAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,OAASC,WAAW,KAAQ,kBAAkB,CAAC,2CAG/C,GAAMC,YAAW,cAACF,KAAK,CAACG,aAAa,EAAE,CAEvC,QAASC,aAAY,MAAY,IAAVC,SAAQ,MAARA,QAAQ,CAC3B,oBAAqBL,KAAK,CAACM,QAAQ,CAAC,OAAO,CAAC,oDAArCC,GAAG,qBAAEC,MAAM,qBAClB,GAAIC,IAAG,CAAC,6CAA6C,CACrDT,KAAK,CAACU,SAAS,CAAC,UAAK,SACFC,KAAI,wHAAnB,4KACuBC,MAAK,CAACH,GAAG,CAAE,CAChCI,MAAM,CAAE,KACV,CAAC,CAAC,QAFIC,QAAQ,qCAGKA,SAAQ,CAACC,IAAI,EAAE,QAA5BC,IAAI,2BAEHR,MAAM,uBAAOQ,KAAI,sJACzB,uCACDL,IAAI,EAAE,CACR,CAAC,CAAC,EAAE,CAAC,CAIL,GAAMM,SAAQ,CAAChB,WAAW,EAAE,CAC5B,qBAAuBD,KAAK,CAACM,QAAQ,CAAC,IAAI,CAAC,qDAApCY,IAAI,qBAAEC,OAAO,qBAEpB,QAASC,MAAK,OAAyB,IAAvBC,SAAQ,OAARA,QAAQ,CAACC,QAAQ,OAARA,QAAQ,IAAEC,EAAC,2DAAC,CAAC,CAClCC,OAAO,CAACC,GAAG,CAACJ,QAAQ,CAACC,QAAQ,CAACC,CAAC,CAAC,CAChC,GAAGA,CAAC,GAAG,CAAC,CAAC,CACLN,QAAQ,CAAC,GAAG,CAAC,CACbS,YAAY,CAACC,OAAO,CAAC,QAAQ,CAACN,QAAQ,CAAC,CACvCF,OAAO,CAAC,CAACE,QAAQ,CAARA,QAAQ,CAAC,CAAC,CACvB,CACA;AACA,GAAGd,GAAG,GAAK,OAAO,CAAE,CAChB,IAAI,GAAIqB,EAAC,CAAC,CAAC,CAAEA,CAAC,CAACrB,GAAG,CAACsB,IAAI,CAACC,MAAM,CAAEF,CAAC,EAAE,CAAC,CAChC,GAAGrB,GAAG,CAACsB,IAAI,CAACD,CAAC,CAAC,CAACG,KAAK,GAAKV,QAAQ,EAAId,GAAG,CAACsB,IAAI,CAACD,CAAC,CAAC,CAACN,QAAQ,GAAKA,QAAQ,CAAC,CACvEH,OAAO,CAAC,CAACE,QAAQ,CAARA,QAAQ,CAAC,CAAC,CACnBK,YAAY,CAACC,OAAO,CAAC,QAAQ,CAACN,QAAQ,CAAC,CACvCJ,QAAQ,CAAC,GAAG,CAAC,CACjB,CACA,CAER,CAGA,CACA,GAAMe,OAAM,CAAC,QAAPA,OAAM,EAAM,CACdN,YAAY,CAACO,KAAK,EAAE,CACpBd,OAAO,CAAC,IAAI,CAAC,CACbF,QAAQ,CAAC,GAAG,CAAC,CACjB,CAAC,CAED,GAAMiB,KAAI,CAAC,CAAChB,IAAI,CAAJA,IAAI,CAACE,KAAK,CAALA,KAAK,CAACY,MAAM,CAANA,MAAM,CAAC,CAC9B,mBACI,KAAC,WAAW,CAAC,QAAQ,EAAC,KAAK,CAAEE,IAAK,UAC7B7B,QAAQ,EACU,CAE/B,CAIA,QAAS8B,QAAO,EAAE,CACf,GAAMD,KAAI,CAAIlC,KAAK,CAACoC,UAAU,CAAClC,WAAW,CAAC,CAC3C,MAAOgC,KAAI,CACd,CAGA,OACI9B,YAAY,CACZ+B,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}