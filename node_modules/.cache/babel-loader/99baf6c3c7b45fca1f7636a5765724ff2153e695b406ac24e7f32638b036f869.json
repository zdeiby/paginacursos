{"ast":null,"code":"import _defineProperty from\"C:/Users/deiby/Desktop/cloneWebCursos/paginacursos/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/deiby/Desktop/cloneWebCursos/paginacursos/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"C:/Users/deiby/Desktop/cloneWebCursos/paginacursos/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/deiby/Desktop/cloneWebCursos/paginacursos/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/deiby/Desktop/cloneWebCursos/paginacursos/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{Col}from\"react-bootstrap\";import{Link}from\"react-router-dom\";import{useAuth}from\"../Login/peticion\";import'./Register.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function RegisterUI(){var auth=useAuth();var _React$useState=React.useState(\"false\"),_React$useState2=_slicedToArray(_React$useState,2),get=_React$useState2[0],setGet=_React$useState2[1];var _React$useState3=React.useState(''),_React$useState4=_slicedToArray(_React$useState3,2),info=_React$useState4[0],setInfo=_React$useState4[1];var _React$useState5=React.useState(false),_React$useState6=_slicedToArray(_React$useState5,2),noSame=_React$useState6[0],setNoSame=_React$useState6[1];var _React$useState7=React.useState(false),_React$useState8=_slicedToArray(_React$useState7,2),pass=_React$useState8[0],setPass=_React$useState8[1];var url='https://api.castelancarpinteyro.com/users';React.useEffect(function(){function leer(){return _leer.apply(this,arguments);}function _leer(){_leer=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(url,{method:'GET'});case 2:response=_context.sent;_context.next=5;return response.json();case 5:data=_context.sent;_context.t0=setGet;_context.next=9;return data;case 9:_context.t1=_context.sent;return _context.abrupt(\"return\",(0,_context.t0)(_context.t1));case 11:case\"end\":return _context.stop();}},_callee);}));return _leer.apply(this,arguments);}leer();},[]);console.log(get);function sendData(e){var succes;e.preventDefault();if(info.password.length>=8){if(get!==\"false\"){for(var i=0;i<get.body.length;i++){if((get===null||get===void 0?void 0:get.body[i].email)===info.email||!info.lastName||!info.email||!info.password){console.log(\"no puedes registrarte ya existe el correo\");succes=false;setNoSame(true);return;}else{succes=true;}}if(succes===true){var leer=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(info){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(url,{method:'POST',// or 'PUT'\nbody:JSON.stringify(info),// data can be `string` or {object}!\nheaders:{'Content-Type':'application/json'}});case 2:return _context2.abrupt(\"return\");case 3:case\"end\":return _context2.stop();}},_callee2);}));return function leer(_x){return _ref.apply(this,arguments);};}();leer(info);var username=info.name;var password=info.password;auth.login({username:username,password:password},1);console.log(\"success\");}}}else{setPass(true);}}function form(e){setNoSame(false);setPass(false);setInfo(_objectSpread(_objectSpread({},info),{},_defineProperty({},e.target.name,e.target.value)));}return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(\"section\",{className:\"py-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container \",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row mb-4 mb-lg-5\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-8 col-xl-6 text-center mx-auto\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"fw-bold text-success mb-2\",children:\"sign up\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"fw-bold\",children:\"Register\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"row d-flex justify-content-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6 col-xl-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card-body text-center d-flex flex-column align-items-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bs-icon-xl bs-icon-circle bs-icon-primary shadow bs-icon\",children:/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"1em\",height:\"1em\",fill:\"currentColor\",viewBox:\"0 0 16 16\",className:\"bi bi-person\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10z\"})})})})})})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"container mb-4 input\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:sendData,children:[pass?/*#__PURE__*/_jsx(\"p\",{className:\"fw-bold text-success text-center\",children:\"La contrase\\xF1a debe ser minimo de 8 caracteres\"}):'',noSame?/*#__PURE__*/_jsx(\"p\",{className:\"fw-bold text-success text-center\",children:\"El correo ya se encuentra registrado, inicia sessi\\xF3n\"}):'',/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-column justify-content-between align-items-center flex-lg-row \",children:[/*#__PURE__*/_jsxs(Col,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsx(\"input\",{required:true,onChange:form,className:\"form-control\",type:\"text\",name:\"name\",placeholder:\"Name\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"\",children:/*#__PURE__*/_jsx(\"input\",{required:true,onChange:form,className:\"form-control\",type:\"text\",name:\"lastName\",placeholder:\"Last name\"})})]}),/*#__PURE__*/_jsxs(Col,{className:\"text-center  \",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsx(\"input\",{required:true,onChange:form,className:\"form-control\",type:\"text\",name:\"email\",placeholder:\"Email\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"\",children:/*#__PURE__*/_jsx(\"input\",{required:true,onChange:form,className:\"form-control\",type:\"password\",name:\"password\",placeholder:\"Password\"})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-3 pt-4 divBoton \",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary shadow d-block boton\",type:\"submit\",children:\"Sign up\"})}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-muted divBoton \",children:[\"Already have an account?\\xA0\",/*#__PURE__*/_jsx(Link,{to:\"../login\",children:\"Log in\"})]})]})})]});}export{RegisterUI};","map":{"version":3,"names":["React","Col","Link","useAuth","RegisterUI","auth","useState","get","setGet","info","setInfo","noSame","setNoSame","pass","setPass","url","useEffect","leer","fetch","method","response","json","data","console","log","sendData","e","succes","preventDefault","password","length","i","body","email","lastName","JSON","stringify","headers","username","name","login","form","target","value"],"sources":["C:/Users/deiby/Desktop/cloneWebCursos/paginacursos/src/Register/RegisterUI.js"],"sourcesContent":["import React from \"react\";\r\nimport { Col  } from \"react-bootstrap\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useAuth } from \"../Login/peticion\";\r\nimport './Register.css'\r\n\r\n\r\nfunction RegisterUI(){\r\n    const auth= useAuth();\r\n    const [get, setGet]= React.useState(\"false\");\r\n    const [info, setInfo]= React.useState('');\r\n    const [noSame, setNoSame]=React.useState(false);\r\n    const [pass, setPass]=React.useState(false);\r\n\r\n    let url='https://api.castelancarpinteyro.com/users'\r\n    \r\n    React.useEffect(()=> {\r\n        async function leer() {\r\n        const response = await fetch(url, {\r\n          method: 'GET',\r\n        });\r\n        const data =  await response.json();\r\n\r\n        return setGet(await data);\r\n       \r\n      \r\n      }\r\n      leer()\r\n    },[])\r\n\r\nconsole.log(get)\r\n   \r\nfunction sendData(e){\r\n    let succes;\r\n    e.preventDefault();\r\n    if(info.password.length >= 8){\r\n      \r\n    \r\n    if(get !==\"false\"){\r\n        for(let i=0; i<get.body.length; i++){ \r\n        if(get?.body[i].email === info.email || (!info.lastName || !info.email || !info.password) ){\r\n            console.log(\"no puedes registrarte ya existe el correo\")\r\n            succes=false;\r\n            setNoSame(true)\r\n           return\r\n            } else{\r\n               succes=true\r\n            }\r\n           \r\n    }\r\n\r\n if(succes ===true){\r\n    async function leer(info) {\r\n      /*  const response = */ await fetch(url, {\r\n            method: 'POST', // or 'PUT'\r\n            body: JSON.stringify(info), // data can be `string` or {object}!\r\n            headers: {\r\n            'Content-Type': 'application/json'\r\n            }\r\n})\r\n//const data = await response.json();\r\n\r\nreturn \r\n}\r\nleer(info);\r\nlet username=info.name;\r\nlet password=info.password;\r\nauth.login({username, password},1) \r\nconsole.log(\"success\")\r\n\r\n }\r\n    }\r\n   }\r\n   else{\r\n    setPass(true);\r\n   } \r\n}\r\n\r\n\r\nfunction form(e){\r\n    setNoSame(false)\r\n    setPass(false)\r\n    setInfo({\r\n        ...info,\r\n        [e.target.name]:e.target.value,\r\n        })\r\n}\r\n\r\n    return(\r\n        <React.Fragment>\r\n           <section className=\"py-3\">\r\n        <div className=\"container \">\r\n            <div className=\"row mb-4 mb-lg-5\">\r\n                <div className=\"col-md-8 col-xl-6 text-center mx-auto\">\r\n                    <p className=\"fw-bold text-success mb-2\">sign up</p>\r\n                    <h2 className=\"fw-bold\">Register</h2>\r\n                </div>\r\n            </div>\r\n            <div className=\"row d-flex justify-content-center\">\r\n                <div className=\"col-md-6 col-xl-4\">\r\n                    <div className=\"card\">\r\n                        <div className=\"card-body text-center d-flex flex-column align-items-center\">\r\n                            <div className=\"bs-icon-xl bs-icon-circle bs-icon-primary shadow bs-icon\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"currentColor\" viewBox=\"0 0 16 16\" className=\"bi bi-person\">\r\n                                    <path d=\"M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10z\"></path>\r\n                                </svg></div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </section>\r\n        \r\n        <div className=\"container mb-4 input\" >\r\n            <form onSubmit={sendData}>\r\n            {pass? <p className=\"fw-bold text-success text-center\">La contraseña debe ser minimo de 8 caracteres</p>:''} \r\n            {noSame? <p className=\"fw-bold text-success text-center\">El correo ya se encuentra registrado, inicia sessión</p>:''} \r\n                    <div  className=\"d-flex flex-column justify-content-between align-items-center flex-lg-row \" > \r\n                            <Col >\r\n                                 <div className=\"mb-3\"><input required onChange={form} className=\"form-control\" type=\"text\" name=\"name\" placeholder=\"Name\"/></div>\r\n                                 <div className=\"\"><input required onChange={form} className=\"form-control\" type=\"text\" name=\"lastName\" placeholder=\"Last name\"/></div>\r\n                                </Col>\r\n                                <Col className=\"text-center  \">     \r\n                                <div className=\"mb-3\"><input required onChange={form} className=\"form-control\" type=\"text\" name=\"email\" placeholder=\"Email\"/></div>\r\n                                <div className=\"\"><input required  onChange={form} className=\"form-control\" type=\"password\" name=\"password\" placeholder=\"Password\"/></div>\r\n                                </Col>\r\n                    </div>\r\n                     \r\n                         <div className=\"mb-3 pt-4 divBoton \" ><button className=\"btn btn-primary shadow d-block boton\" type=\"submit\">Sign up</button></div>\r\n                         <p className=\"text-muted divBoton \">Already have an account?&nbsp;<Link to='../login'>Log in</Link></p>\r\n             </form>\r\n             </div>\r\n           \r\n        \r\n   \r\n    </React.Fragment>\r\n    )\r\n}\r\n\r\nexport {RegisterUI}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}